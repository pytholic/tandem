FROM chengran222/tumtandem

# TANDEM
RUN . ../../etc/profile && \
    git clone https://github.com/tum-vision/tandem.git && \
    cd tandem/tandem && \
    mkdir build && cd build && \
    cmake .. \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_PREFIX_PATH=$TANDEM_LIBTORCH_DIR \
    -DCUDNN_LIBRARY=$TANDEM_CUDNN_LIBRARY \
    -DCUDNN_INCLUDE_PATH=$TANDEM_CUDNN_INCLUDE_PATH && \
    make -j12
